{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const formData = {\n    email: \"\",\n    message: \"\"\n};\n\nconst form = document.querySelector('.feedback-form');\nconst localStorageKey = 'feedback-form-state';\n\nwindow.addEventListener('load', function () {\n    const storedData = JSON.parse(this.localStorage.getItem(localStorageKey));\n    if (storedData) {\n        Array.from(form.elements).forEach(function(element) {\n            if (element.name && storedData[element.name]) {\n                element.value = storedData[element.name];\n                formData[element.name] = storedData[element.name];\n            }\n        });\n    }\n});\n\nform.addEventListener('input', function (event) {\n    if (event.target.name === 'email' || event.target.name === 'message') {\n        formData[event.target.name] = event.target.value;\n        localStorage.setItem(localStorageKey, JSON.stringify(formData));\n    };\n});\n\nform.addEventListener('submit', function (event) {\n    event.preventDefault();\n    let allFieldsFilled = true;\n    Array.from(form.elements).forEach(function (element) {\n        if (element.name && element.value.trim() === '') {\n            allFieldsFilled = false;\n            alert('Fill please all fields');\n            return;\n        }\n    });\n\n    if (allFieldsFilled) {\n        console.log(formData);\n        localStorage.removeItem(localStorageKey);\n        form.reset();\n        formData.email = ''; //але мені ще треба подумати, як зробити, щоб не очищати\n        formData.message = ''; //кожне поле окремо (якщо, наприклад, буде 100 полів).\n    }\n});\n\n\n\n\n"],"names":["formData","form","localStorageKey","storedData","element","event","allFieldsFilled"],"mappings":"wFAAA,MAAMA,EAAW,CACb,MAAO,GACP,QAAS,EACb,EAEMC,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAkB,sBAExB,OAAO,iBAAiB,OAAQ,UAAY,CACxC,MAAMC,EAAa,KAAK,MAAM,KAAK,aAAa,QAAQD,CAAe,CAAC,EACpEC,GACA,MAAM,KAAKF,EAAK,QAAQ,EAAE,QAAQ,SAASG,EAAS,CAC5CA,EAAQ,MAAQD,EAAWC,EAAQ,IAAI,IACvCA,EAAQ,MAAQD,EAAWC,EAAQ,IAAI,EACvCJ,EAASI,EAAQ,IAAI,EAAID,EAAWC,EAAQ,IAAI,EAEhE,CAAS,CAET,CAAC,EAEDH,EAAK,iBAAiB,QAAS,SAAUI,EAAO,EACxCA,EAAM,OAAO,OAAS,SAAWA,EAAM,OAAO,OAAS,aACvDL,EAASK,EAAM,OAAO,IAAI,EAAIA,EAAM,OAAO,MAC3C,aAAa,QAAQH,EAAiB,KAAK,UAAUF,CAAQ,CAAC,EAEtE,CAAC,EAEDC,EAAK,iBAAiB,SAAU,SAAUI,EAAO,CAC7CA,EAAM,eAAc,EACpB,IAAIC,EAAkB,GACtB,MAAM,KAAKL,EAAK,QAAQ,EAAE,QAAQ,SAAUG,EAAS,CACjD,GAAIA,EAAQ,MAAQA,EAAQ,MAAM,KAAM,IAAK,GAAI,CAC7CE,EAAkB,GAClB,MAAM,wBAAwB,EAC9B,MACH,CACT,CAAK,EAEGA,IACA,QAAQ,IAAIN,CAAQ,EACpB,aAAa,WAAWE,CAAe,EACvCD,EAAK,MAAK,EACVD,EAAS,MAAQ,GACjBA,EAAS,QAAU,GAE3B,CAAC"}